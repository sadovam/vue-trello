(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-69d93a1e"],{"09c4":function(t,e,i){"use strict";i("f0a6")},"37cd":function(t,e,i){},5906:function(t,e,i){"use strict";i("c21e")},"5d6d":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"board"},[i("h2",{on:{click:t.switchTitleEditInput}},[t._v(t._s(t.board.title))]),t.showSpinner?i("Spinner"):t._e(),t.showTitleEdit?i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.newTitle,expression:"newTitle",modifiers:{trim:!0}}],domProps:{value:t.newTitle},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.updateTitle(e)},blur:[t.updateTitle,function(e){return t.$forceUpdate()}],input:function(e){e.target.composing||(t.newTitle=e.target.value.trim())}}}):t._e(),i("div",{staticClass:"lists"},[t._l(t.board.lists,(function(e){return i("List",{key:e.id,attrs:{title:e.title,cards:e.cards,id:e.id,boardId:t.$route.params.board_id}})})),i("div",{staticClass:"last"},[t.showAddList?i("AddList",{attrs:{boardId:t.$route.params.board_id,listPosition:Object.keys(t.board.lists).length},on:{close:function(e){t.showAddList=!1}}}):i("button",{on:{click:function(e){t.showAddList=!0}}},[t._v("Add list")])],1)],2)],1)},r=[],o=i("9ab4"),s=i("2b0e"),a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"list"},[i("h4",{on:{click:function(e){t.showTitleEdit=!t.showTitleEdit,t.newTitle=t.title}}},[t._v(t._s(t.title))]),t.showTitleEdit?i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.newTitle,expression:"newTitle",modifiers:{trim:!0}}],domProps:{value:t.newTitle},on:{blur:[t.changeTitle,function(e){return t.$forceUpdate()}],keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.changeTitle(e)},input:function(e){e.target.composing||(t.newTitle=e.target.value.trim())}}}):t._e(),t.showSpinner?i("Spinner"):t._e(),t._l(t.cards,(function(t){return i("Card",{key:t.id,attrs:{title:t.title}})})),t.showAddCard?i("AddCard",{attrs:{boardId:t.boardId,listId:t.id,cardPosition:Object.keys(t.cards).length},on:{close:function(e){t.showAddCard=!1}}}):i("button",{on:{click:function(e){t.showAddCard=!0}}},[t._v("Add card")])],2)},d=[],l=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t._v(" "+t._s(t.title)+" ")])},c=[],u=s["default"].extend({name:"Card",props:{title:String}}),p=u,h=(i("09c4"),i("2877")),f=Object(h["a"])(p,l,c,!1,null,"59699a0c",null),m=f.exports,w=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.newTitle,expression:"newTitle",modifiers:{trim:!0}}],attrs:{placeholder:"Type here title of new card..."},domProps:{value:t.newTitle},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addCard(e)},input:function(e){e.target.composing||(t.newTitle=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),t.showSpinner?i("Spinner"):t._e(),i("button",{on:{click:t.addCard}},[t._v("Create")]),i("button",{on:{click:function(e){return t.$emit("close")}}},[t._v("Cancel")])],1)},b=[],y=i("79f6"),T=i("2375"),v=s["default"].extend({name:"AddCard",props:["boardId","listId","cardPosition"],data:function(){return{newTitle:"",showSpinner:!1}},components:{Spinner:T["a"]},methods:{addCard:function(){var t=this;null!==this.newTitle.match(/^[\d\p{L} \.,_-]+$/u)?y["a"].post("/board/"+this.boardId+"/card",{title:this.newTitle,position:this.cardPosition,list_id:this.listId}).finally((function(){t.showSpinner=!1,t.$emit("close")})).then((function(e){var i=e.data.result;"Created"===i&&(t.newTitle="",t.$store.dispatch("getBoard",{id:t.boardId}))}),(function(e){t.$notify({type:"error",title:e.message,text:"We can`t create your new card. Something is wrong. Try later or call administrator."})})):this.$notify({type:"error",title:"Uncorrect card title.",text:"Title can`t be empty. It can use numbers, letters (a, A), spaces, dashes, dots, underscores."})}}}),_=v,g=(i("8591"),Object(h["a"])(_,w,b,!1,null,"2368661c",null)),$=g.exports,k=s["default"].extend({name:"List",props:{title:String,id:Number,boardId:String,cards:Object},data:function(){return{showTitleEdit:!1,newTitle:"",showAddCard:!1,showSpinner:!1}},components:{Card:m,AddCard:$,Spinner:T["a"]},methods:{changeTitle:function(){var t=this;null!==this.newTitle.match(/^[\d\p{L} \.,_-]+$/u)?(this.showSpinner=!0,y["a"].put("/board/"+this.boardId+"/list/"+this.id,{title:this.newTitle}).finally((function(){t.showSpinner=!1,t.showTitleEdit=!1})).then((function(e){var i=e.data.result;"Updated"===i&&t.$store.dispatch("getBoard",{id:t.boardId})}),(function(e){t.$notify({type:"error",title:e.message,text:"We can`t change title of your list. Something is wrong. Try later or call administrator."})}))):this.$notify({type:"error",title:"Uncorrect list title.",text:"Title can`t be empty. It can use numbers, letters (a, A), spaces, dashes, dots, underscores."})}}}),S=k,C=(i("5906"),Object(h["a"])(S,a,d,!1,null,"be346af2",null)),x=C.exports,I=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"list"},[i("h3",[t._v("Create new list")]),i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.newTitle,expression:"newTitle",modifiers:{trim:!0}}],attrs:{placeholder:"Type here title of new list..."},domProps:{value:t.newTitle},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addList(e)},input:function(e){e.target.composing||(t.newTitle=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),t.showSpinner?i("Spinner"):t._e(),i("button",{on:{click:t.addList}},[t._v("Create")]),i("button",{on:{click:function(e){return t.$emit("close")}}},[t._v("Cancel")])],1)},E=[],A=s["default"].extend({name:"AddList",props:["boardId","listPosition"],data:function(){return{newTitle:"",showSpinner:!1}},components:{Spinner:T["a"]},methods:{addList:function(){var t=this;null!==this.newTitle.match(/^[\d\p{L} \.,_-]+$/u)?y["a"].post("/board/"+this.boardId+"/list",{title:this.newTitle,position:this.listPosition}).finally((function(){t.showSpinner=!1,t.$emit("close")})).then((function(e){var i=e.data.result;"Created"===i&&(t.newTitle="",t.$store.dispatch("getBoard",{id:t.boardId}))}),(function(e){t.$notify({type:"error",title:e.message,text:"We can`t create your new list. Something is wrong. Try later or call administrator."})})):this.$notify({type:"error",title:"Uncorrect list title.",text:"Title can`t be empty. It can use numbers, letters (a, A), spaces, dashes, dots, underscores."})}}}),L=A,O=(i("71ab"),Object(h["a"])(L,I,E,!1,null,"52359760",null)),j=O.exports,P=s["default"].extend({name:"Board",data:function(){return{showTitleEdit:!1,newTitle:"",showAddList:!1,showSpinner:!1}},mounted:function(){return Object(o["a"])(this,void 0,void 0,(function(){var t=this;return Object(o["b"])(this,(function(e){return this.showSpinner=!0,this.$store.dispatch("getBoard",{id:this.$route.params.board_id}).finally((function(){t.showSpinner=!1})).catch((function(e){t.$notify({type:"error",title:e.message,text:"We can`t load your lists. Something is wrong. Try later or call administrator."})})),[2]}))}))},computed:{board:function(){return this.$store.getters.board}},components:{List:x,AddList:j,Spinner:T["a"]},methods:{switchTitleEditInput:function(){this.showTitleEdit=!this.showTitleEdit,this.newTitle=this.board.title},updateTitle:function(){var t=this;null!==this.newTitle.match(/^[\d\p{L} \.,_-]+$/u)?(this.showSpinner=!0,y["a"].put("/board/"+this.$route.params.board_id,{title:this.newTitle}).finally((function(){t.showSpinner=!1,t.showTitleEdit=!1})).then((function(e){var i=e.data.result;"Updated"===i&&t.$store.dispatch("getBoard",{id:t.$route.params.board_id})}),(function(e){t.$notify({type:"error",title:e.message,text:"We can`t change title of your list. Something is wrong. Try later or call administrator."})}))):this.$notify({type:"error",title:"Uncorrect board title.",text:"Title can`t be empty. It can use numbers, letters (a, A), spaces, dashes, dots, underscores."})}}}),U=P,B=(i("cdb1"),Object(h["a"])(U,n,r,!1,null,"e957d80c",null));e["default"]=B.exports},"71ab":function(t,e,i){"use strict";i("bf20")},8591:function(t,e,i){"use strict";i("37cd")},bf20:function(t,e,i){},c21e:function(t,e,i){},cdb1:function(t,e,i){"use strict";i("d20c")},d20c:function(t,e,i){},f0a6:function(t,e,i){}}]);
//# sourceMappingURL=chunk-69d93a1e.1490756b.js.map